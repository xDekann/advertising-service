<!DOCTYPE HTML>
<HTML lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="/css/global.css">
	<title>Picked user profile</title>
</head>
<body class="bg-light">
	
	<div class="text-center m-auto w-50 mt-2">
		<a th:if="${currentUser.id}!=${pickedUser.id}" th:href="@{'/user/report/'+${pickedUser.id}}" class="btn btn-danger mt-2 w-25">Report user</a>
		<a th:if="${currentUser.id}!=${pickedUser.id}" th:href="@{'/message/create/'+${pickedUser.id}}" class="btn btn-primary mt-2 w-25">Message user</a>
		<a th:if="${isBlocked}==false and ${currentUser.id}!=${pickedUser.id}" th:href="@{'/message/block/'+${pickedUser.id}}" class="btn btn-danger mt-2 w-25">Block user</a>
		<a th:if="${isBlocked}==true and ${currentUser.id}!=${pickedUser.id}" th:href="@{'/message/unblock/'+${pickedUser.id}}" class="btn btn-success mt-2 w-25">Unblock user</a>
	</div>
	
	<span class="text-center">
		<h3 class="display-6 p-3" th:text="${pickedUser.username}"></h3>
		<p th:text="'From: '+${pickedUser.userDetails.city}"></p>
		<p th:text="'Last login: '+${#strings.substring(pickedUser.userDetails.lastLogin,0,16)}"></p>
	</span>
	<div th:object="${message}" class="m-auto w-50 mt-2 text-center">
		<a th:href="@{/main/}" class="btn btn-primary">Back to main menu</a>
	</div>
</body>
</html>